<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Galeon: Referencia de la Clase Logic::CEntityFactory</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Galeon
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generado por Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Página&#160;principal</span></a></li>
      <li><a href="pages.html"><span>Páginas&#160;relacionadas</span></a></li>
      <li><a href="modules.html"><span>Módulos</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Estructuras&#160;de&#160;Datos</span></a></li>
      <li><a href="files.html"><span>Archivos</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Estructura&#160;de&#160;datos</span></a></li>
      <li><a href="inherits.html"><span>Jerarquía&#160;de&#160;la&#160;clase</span></a></li>
      <li><a href="functions.html"><span>Campos&#160;de&#160;datos</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_logic.html">Logic</a></li><li class="navelem"><a class="el" href="class_logic_1_1_c_entity_factory.html">CEntityFactory</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Estructuras de datos</a> &#124;
<a href="#pub-methods">Métodos públicos</a> &#124;
<a href="#pub-static-methods">Métodos públicos estáticos</a> &#124;
<a href="#pro-types">Tipos protegidos</a> &#124;
<a href="#pro-methods">Métodos protegidos</a> &#124;
<a href="#pro-attribs">Atributos protegidos</a> &#124;
<a href="#pro-static-attribs">Atributos protegidos estáticos</a>  </div>
  <div class="headertitle">
<div class="title">Referencia de la Clase Logic::CEntityFactory<div class="ingroups"><a class="el" href="group__logic_group.html">Lógica de juego</a> &#124; <a class="el" href="group__map_group.html">Mapas de entidades lógicas</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Factoría de <a class="el" href="class_logic_1_1_c_entity.html" title="Clase que representa una entidad en el entorno virtual. ">CEntity</a> que centraliza tanto la construcción como la destrucción de entidades del juego.  
 <a href="class_logic_1_1_c_entity_factory.html#details">Más...</a></p>

<p><code>#include &lt;<a class="el" href="_entity_factory_8h_source.html">EntityFactory.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Diagrama de colaboración para Logic::CEntityFactory:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_logic_1_1_c_entity_factory__coll__graph.png" border="0" usemap="#_logic_1_1_c_entity_factory_coll__map" alt="Collaboration graph"/></div>
<map name="_logic_1_1_c_entity_factory_coll__map" id="_logic_1_1_c_entity_factory_coll__map">
</map>
<center><span class="legend">[<a href="graph_legend.html">significado de colores y flechas</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Estructuras de datos</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_logic_1_1_c_entity_factory_1_1_t_blue_print.html">TBluePrint</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estructura que define una entidad blueprint.  <a href="struct_logic_1_1_c_entity_factory_1_1_t_blue_print.html#details">Más...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Métodos públicos</h2></td></tr>
<tr class="memitem:aae05d74a57b2a3e3cb31d79dc5c6de82"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_logic_1_1_c_entity_factory.html#aae05d74a57b2a3e3cb31d79dc5c6de82">loadBluePrints</a> (const std::string &amp;filename)</td></tr>
<tr class="memdesc:aae05d74a57b2a3e3cb31d79dc5c6de82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Carga un nuevo listado de entidades que se pueden crear mediante componentes.  <a href="#aae05d74a57b2a3e3cb31d79dc5c6de82">Más...</a><br /></td></tr>
<tr class="separator:aae05d74a57b2a3e3cb31d79dc5c6de82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a860f5ea85c7df83d8da6e932f96413e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_logic_1_1_c_entity_factory.html#a860f5ea85c7df83d8da6e932f96413e4">unloadBluePrints</a> ()</td></tr>
<tr class="memdesc:a860f5ea85c7df83d8da6e932f96413e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Descarga el listado de entidades creadas.  <a href="#a860f5ea85c7df83d8da6e932f96413e4">Más...</a><br /></td></tr>
<tr class="separator:a860f5ea85c7df83d8da6e932f96413e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91c98e1474a187d6d2e25354dc881dad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_logic_1_1_c_entity.html">CEntity</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_logic_1_1_c_entity_factory.html#a91c98e1474a187d6d2e25354dc881dad">createEntity</a> (const <a class="el" href="class_map_1_1_c_entity.html">Map::CEntity</a> *entityInfo, <a class="el" href="class_logic_1_1_c_map.html">CMap</a> *map)</td></tr>
<tr class="memdesc:a91c98e1474a187d6d2e25354dc881dad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Crea una nueva entidad de juego en un mapa determinado a partir de su descripción en base a los componentes que necesita debido a su naturaleza según lo leído en el/los archivo/s blueprint.  <a href="#a91c98e1474a187d6d2e25354dc881dad">Más...</a><br /></td></tr>
<tr class="separator:a91c98e1474a187d6d2e25354dc881dad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85ba80260e60a0afb73a9eaa7c7f9ec8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_logic_1_1_c_entity_factory.html#a85ba80260e60a0afb73a9eaa7c7f9ec8">deleteEntity</a> (<a class="el" href="class_logic_1_1_c_entity.html">CEntity</a> *entity)</td></tr>
<tr class="memdesc:a85ba80260e60a0afb73a9eaa7c7f9ec8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destruye el <a class="el" href="class_logic_1_1_c_entity.html" title="Clase que representa una entidad en el entorno virtual. ">CEntity</a> pasado como parámetro.  <a href="#a85ba80260e60a0afb73a9eaa7c7f9ec8">Más...</a><br /></td></tr>
<tr class="separator:a85ba80260e60a0afb73a9eaa7c7f9ec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9619ffb7838fbb91e0eff23db74cc032"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_logic_1_1_c_entity_factory.html#a9619ffb7838fbb91e0eff23db74cc032">deferredDeleteEntity</a> (<a class="el" href="class_logic_1_1_c_entity.html">CEntity</a> *entity)</td></tr>
<tr class="memdesc:a9619ffb7838fbb91e0eff23db74cc032"><td class="mdescLeft">&#160;</td><td class="mdescRight">Solicita la destrucción retrasada de la entidad que se pasa como parámetro.  <a href="#a9619ffb7838fbb91e0eff23db74cc032">Más...</a><br /></td></tr>
<tr class="separator:a9619ffb7838fbb91e0eff23db74cc032"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc1de7ec795ddcffb8ebb07dd67d1070"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_logic_1_1_c_entity_factory.html#abc1de7ec795ddcffb8ebb07dd67d1070">deleteDefferedEntities</a> ()</td></tr>
<tr class="memdesc:abc1de7ec795ddcffb8ebb07dd67d1070"><td class="mdescLeft">&#160;</td><td class="mdescRight">Método invocado por el bucle del juego para que la factoría elimine todos los objetos pendientes de ser borrados.  <a href="#abc1de7ec795ddcffb8ebb07dd67d1070">Más...</a><br /></td></tr>
<tr class="separator:abc1de7ec795ddcffb8ebb07dd67d1070"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab73e8347902cfb9c8105e3ffa9fae68a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_logic_1_1_c_entity_factory.html#ab73e8347902cfb9c8105e3ffa9fae68a">createPrefab</a> (<a class="el" href="class_map_1_1_c_entity.html">Map::CEntity</a> *info, const std::string &amp;prefabName)</td></tr>
<tr class="memdesc:ab73e8347902cfb9c8105e3ffa9fae68a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Crea un prefab con un nombre dado.  <a href="#ab73e8347902cfb9c8105e3ffa9fae68a">Más...</a><br /></td></tr>
<tr class="separator:ab73e8347902cfb9c8105e3ffa9fae68a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b50d5d968841c2136070879364ff04d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_logic_1_1_c_entity.html">Logic::CEntity</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_logic_1_1_c_entity_factory.html#a5b50d5d968841c2136070879364ff04d">CEntityFactory::createEntity</a> (const std::string &amp;prefabName, <a class="el" href="class_logic_1_1_c_map.html">Logic::CMap</a> *map)</td></tr>
<tr class="memdesc:a5b50d5d968841c2136070879364ff04d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Crea una entidad utilizando el nombre de prefab indicado.  <a href="#a5b50d5d968841c2136070879364ff04d">Más...</a><br /></td></tr>
<tr class="separator:a5b50d5d968841c2136070879364ff04d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Métodos públicos estáticos</h2></td></tr>
<tr class="memitem:a02768a6dee7bb9189cc52c48d3894d60"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_logic_1_1_c_entity_factory.html#a02768a6dee7bb9189cc52c48d3894d60">Init</a> ()</td></tr>
<tr class="memdesc:a02768a6dee7bb9189cc52c48d3894d60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inicializa la base de datos de la factoría.  <a href="#a02768a6dee7bb9189cc52c48d3894d60">Más...</a><br /></td></tr>
<tr class="separator:a02768a6dee7bb9189cc52c48d3894d60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab057628af999a3a0efef822573451b74"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_logic_1_1_c_entity_factory.html#ab057628af999a3a0efef822573451b74">Release</a> ()</td></tr>
<tr class="memdesc:ab057628af999a3a0efef822573451b74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Libera la base de datos.  <a href="#ab057628af999a3a0efef822573451b74">Más...</a><br /></td></tr>
<tr class="separator:ab057628af999a3a0efef822573451b74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ffb69281f3ba1803276443bff22e964"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_logic_1_1_c_entity_factory.html">CEntityFactory</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_logic_1_1_c_entity_factory.html#a5ffb69281f3ba1803276443bff22e964">getSingletonPtr</a> ()</td></tr>
<tr class="memdesc:a5ffb69281f3ba1803276443bff22e964"><td class="mdescLeft">&#160;</td><td class="mdescRight">Devuelve un puntero al único objeto de la clase.  <a href="#a5ffb69281f3ba1803276443bff22e964">Más...</a><br /></td></tr>
<tr class="separator:a5ffb69281f3ba1803276443bff22e964"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-types"></a>
Tipos protegidos</h2></td></tr>
<tr class="memitem:afe3bdee5508b7fdf617f79fdc168fd33"><td class="memItemLeft" align="right" valign="top">typedef std::list&lt; <a class="el" href="class_logic_1_1_c_entity.html">Logic::CEntity</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_logic_1_1_c_entity_factory.html#afe3bdee5508b7fdf617f79fdc168fd33">TEntityList</a></td></tr>
<tr class="memdesc:afe3bdee5508b7fdf617f79fdc168fd33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tipo lista de <a class="el" href="class_logic_1_1_c_entity.html" title="Clase que representa una entidad en el entorno virtual. ">CEntity</a> donde guardaremos los pendientes de borrar.  <a href="#afe3bdee5508b7fdf617f79fdc168fd33">Más...</a><br /></td></tr>
<tr class="separator:afe3bdee5508b7fdf617f79fdc168fd33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f4290394f00f63348661c40c7cbb74b"><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; std::string, <a class="el" href="struct_logic_1_1_c_entity_factory_1_1_t_blue_print.html">TBluePrint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_logic_1_1_c_entity_factory.html#a5f4290394f00f63348661c40c7cbb74b">TBluePrintMap</a></td></tr>
<tr class="memdesc:a5f4290394f00f63348661c40c7cbb74b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tipo tabla para almacenar entidades blueprint por nombre.  <a href="#a5f4290394f00f63348661c40c7cbb74b">Más...</a><br /></td></tr>
<tr class="separator:a5f4290394f00f63348661c40c7cbb74b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Métodos protegidos</h2></td></tr>
<tr class="memitem:a70fdc4005cece6eb0f45e8015cef7b6d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_logic_1_1_c_entity_factory.html#a70fdc4005cece6eb0f45e8015cef7b6d">CEntityFactory</a> ()</td></tr>
<tr class="memdesc:a70fdc4005cece6eb0f45e8015cef7b6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor de la clase, protegido, pues es un singleton.  <a href="#a70fdc4005cece6eb0f45e8015cef7b6d">Más...</a><br /></td></tr>
<tr class="separator:a70fdc4005cece6eb0f45e8015cef7b6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98f2ecf7b7e7d601022431692dd07491"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_logic_1_1_c_entity_factory.html#a98f2ecf7b7e7d601022431692dd07491">~CEntityFactory</a> ()</td></tr>
<tr class="memdesc:a98f2ecf7b7e7d601022431692dd07491"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor protegido, por ser singleton.  <a href="#a98f2ecf7b7e7d601022431692dd07491">Más...</a><br /></td></tr>
<tr class="separator:a98f2ecf7b7e7d601022431692dd07491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5ced525401b3412dd29738b44c35f1a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_logic_1_1_c_entity_factory.html#ac5ced525401b3412dd29738b44c35f1a">open</a> ()</td></tr>
<tr class="memdesc:ac5ced525401b3412dd29738b44c35f1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Segunda fase de la construcción del objeto.  <a href="#ac5ced525401b3412dd29738b44c35f1a">Más...</a><br /></td></tr>
<tr class="separator:ac5ced525401b3412dd29738b44c35f1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a359535c9c31b60afd189bbb631472abd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_logic_1_1_c_entity_factory.html#a359535c9c31b60afd189bbb631472abd">close</a> ()</td></tr>
<tr class="memdesc:a359535c9c31b60afd189bbb631472abd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Segunda fase de la destrucción del objeto.  <a href="#a359535c9c31b60afd189bbb631472abd">Más...</a><br /></td></tr>
<tr class="separator:a359535c9c31b60afd189bbb631472abd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6893847669dc50293bc81f41ccf68811"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_logic_1_1_c_entity.html">CEntity</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_logic_1_1_c_entity_factory.html#a6893847669dc50293bc81f41ccf68811">assembleEntity</a> (const std::string &amp;type)</td></tr>
<tr class="memdesc:a6893847669dc50293bc81f41ccf68811"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ensambla una nueva entidad de juego a partir de su tipo de entidad.  <a href="#a6893847669dc50293bc81f41ccf68811">Más...</a><br /></td></tr>
<tr class="separator:a6893847669dc50293bc81f41ccf68811"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Atributos protegidos</h2></td></tr>
<tr class="memitem:a92a4294f1d4ee8584df9ffc762ca83ce"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_logic_1_1_c_entity_factory.html#a92a4294f1d4ee8584df9ffc762ca83ce">numInstance</a> = 0</td></tr>
<tr class="memdesc:a92a4294f1d4ee8584df9ffc762ca83ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Número que se añade al nombre de la instancia que viene en el prefab para que sea único.  <a href="#a92a4294f1d4ee8584df9ffc762ca83ce">Más...</a><br /></td></tr>
<tr class="separator:a92a4294f1d4ee8584df9ffc762ca83ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc1e314675a1950553bf49811b0742b8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_logic_1_1_c_entity_factory.html#afe3bdee5508b7fdf617f79fdc168fd33">TEntityList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_logic_1_1_c_entity_factory.html#afc1e314675a1950553bf49811b0742b8">_pendingEntities</a></td></tr>
<tr class="memdesc:afc1e314675a1950553bf49811b0742b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lista de objetos pendientes de borrar.  <a href="#afc1e314675a1950553bf49811b0742b8">Más...</a><br /></td></tr>
<tr class="separator:afc1e314675a1950553bf49811b0742b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2881eda4fa25ea2662505562abc207f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_logic_1_1_c_entity_factory.html#a5f4290394f00f63348661c40c7cbb74b">TBluePrintMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_logic_1_1_c_entity_factory.html#a2881eda4fa25ea2662505562abc207f8">_bluePrints</a></td></tr>
<tr class="memdesc:a2881eda4fa25ea2662505562abc207f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tabla donde se almacenan las entidades blueprint por nombre.  <a href="#a2881eda4fa25ea2662505562abc207f8">Más...</a><br /></td></tr>
<tr class="separator:a2881eda4fa25ea2662505562abc207f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46cd43c565f104499345afe7f4314dfa"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <a class="el" href="class_map_1_1_c_entity.html">Map::CEntity</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_logic_1_1_c_entity_factory.html#a46cd43c565f104499345afe7f4314dfa">_prefabs</a></td></tr>
<tr class="memdesc:a46cd43c565f104499345afe7f4314dfa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mapa cacheado de prefabs indexado por tipo.  <a href="#a46cd43c565f104499345afe7f4314dfa">Más...</a><br /></td></tr>
<tr class="separator:a46cd43c565f104499345afe7f4314dfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Atributos protegidos estáticos</h2></td></tr>
<tr class="memitem:a1c24f1bba46f5139e4caa30b85a24ac7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_logic_1_1_c_entity_factory.html">CEntityFactory</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_logic_1_1_c_entity_factory.html#a1c24f1bba46f5139e4caa30b85a24ac7">_instance</a> = 0</td></tr>
<tr class="memdesc:a1c24f1bba46f5139e4caa30b85a24ac7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Única instancia de la clase.  <a href="#a1c24f1bba46f5139e4caa30b85a24ac7">Más...</a><br /></td></tr>
<tr class="separator:a1c24f1bba46f5139e4caa30b85a24ac7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Descripción detallada</h2>
<div class="textblock"><p>Factoría de <a class="el" href="class_logic_1_1_c_entity.html" title="Clase que representa una entidad en el entorno virtual. ">CEntity</a> que centraliza tanto la construcción como la destrucción de entidades del juego. </p>
<p>Es un singleton de inicialización explícita. Hace uso de la factoría de componentes para ensamblar las entidades a partir de las descripciones de las entidades (blueprints).</p>
<p>La factoría carga la descripción de las entidades (componentes que las forman) del fichero blueprints.</p>
<dl class="section author"><dt>Autor</dt><dd>David Llansó </dd></dl>
<dl class="section date"><dt>Fecha</dt><dd>Agosto, 2010 </dd></dl>

<p>Definición en la línea <a class="el" href="_entity_factory_8h_source.html#l00054">54</a> del archivo <a class="el" href="_entity_factory_8h_source.html">EntityFactory.h</a>.</p>
</div><h2 class="groupheader">Documentación de los 'Typedef' miembros de la clase</h2>
<a class="anchor" id="a5f4290394f00f63348661c40c7cbb74b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;std::string,<a class="el" href="struct_logic_1_1_c_entity_factory_1_1_t_blue_print.html">TBluePrint</a>&gt; <a class="el" href="class_logic_1_1_c_entity_factory.html#a5f4290394f00f63348661c40c7cbb74b">Logic::CEntityFactory::TBluePrintMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tipo tabla para almacenar entidades blueprint por nombre. </p>

<p>Definición en la línea <a class="el" href="_entity_factory_8h_source.html#l00255">255</a> del archivo <a class="el" href="_entity_factory_8h_source.html">EntityFactory.h</a>.</p>

</div>
</div>
<a class="anchor" id="afe3bdee5508b7fdf617f79fdc168fd33"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::list&lt;<a class="el" href="class_logic_1_1_c_entity.html">Logic::CEntity</a>*&gt; <a class="el" href="class_logic_1_1_c_entity_factory.html#afe3bdee5508b7fdf617f79fdc168fd33">Logic::CEntityFactory::TEntityList</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tipo lista de <a class="el" href="class_logic_1_1_c_entity.html" title="Clase que representa una entidad en el entorno virtual. ">CEntity</a> donde guardaremos los pendientes de borrar. </p>

<p>Definición en la línea <a class="el" href="_entity_factory_8h_source.html#l00245">245</a> del archivo <a class="el" href="_entity_factory_8h_source.html">EntityFactory.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Documentación del constructor y destructor</h2>
<a class="anchor" id="a70fdc4005cece6eb0f45e8015cef7b6d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Logic::CEntityFactory::CEntityFactory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor de la clase, protegido, pues es un singleton. </p>
<p>Registra al objeto como observer del cargador de mapas. </p>

<p>Definición en la línea <a class="el" href="_entity_factory_8cpp_source.html#l00055">55</a> del archivo <a class="el" href="_entity_factory_8cpp_source.html">EntityFactory.cpp</a>.</p>

<p>Hace referencia a <a class="el" href="_entity_factory_8h_source.html#l00201">_instance</a>.</p>

<p>Referenciado por <a class="el" href="_entity_factory_8cpp_source.html#l00071">Init()</a>.</p>

</div>
</div>
<a class="anchor" id="a98f2ecf7b7e7d601022431692dd07491"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Logic::CEntityFactory::~CEntityFactory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor protegido, por ser singleton. </p>

<p>Definición en la línea <a class="el" href="_entity_factory_8cpp_source.html#l00063">63</a> del archivo <a class="el" href="_entity_factory_8cpp_source.html">EntityFactory.cpp</a>.</p>

<p>Hace referencia a <a class="el" href="_entity_factory_8h_source.html#l00201">_instance</a>.</p>

</div>
</div>
<h2 class="groupheader">Documentación de las funciones miembro</h2>
<a class="anchor" id="a6893847669dc50293bc81f41ccf68811"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_logic_1_1_c_entity.html">Logic::CEntity</a> * Logic::CEntityFactory::assembleEntity </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ensambla una nueva entidad de juego a partir de su tipo de entidad. </p>
<p>En base al tipo de entidad se crearán y añadirán a la entidad las instancias de los componentes que necesita según lo leído en el/los archivo/s blueprint. Es un procedimiento auxiliar utilizado por createEntity.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Tipo de la entidad que se quiere crear. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>La entidad creada o NULL si no se pudo crear. </dd></dl>

<p>Definición en la línea <a class="el" href="_entity_factory_8cpp_source.html#l00162">162</a> del archivo <a class="el" href="_entity_factory_8cpp_source.html">EntityFactory.cpp</a>.</p>

<p>Hace referencia a <a class="el" href="_entity_factory_8h_source.html#l00260">_bluePrints</a>, <a class="el" href="_logic_2_entity_2_entity_8cpp_source.html#l00155">Logic::CEntity::addComponent()</a>, <a class="el" href="_factory_8h_source.html#l00136">BaseSubsystems::CFactory&lt; T &gt;::create()</a>, <a class="el" href="_component_factory_8cpp_source.html#l00041">Logic::CComponentFactory::getSingletonPtr()</a>, <a class="el" href="_factory_8h_source.html#l00127">BaseSubsystems::CFactory&lt; T &gt;::has()</a> y <a class="el" href="_entity_i_d_8cpp_source.html#l00024">Logic::EntityID::NextID()</a>.</p>

<p>Referenciado por <a class="el" href="_entity_factory_8cpp_source.html#l00200">createEntity()</a>.</p>

</div>
</div>
<a class="anchor" id="a5b50d5d968841c2136070879364ff04d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_logic_1_1_c_entity.html">Logic::CEntity</a>* Logic::CEntityFactory::CEntityFactory::createEntity </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefabName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_logic_1_1_c_map.html">Logic::CMap</a> *&#160;</td>
          <td class="paramname"><em>map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Crea una entidad utilizando el nombre de prefab indicado. </p>
<p>Por defecto los prefabs se crean utilizando el nombre del tipo </p>

</div>
</div>
<a class="anchor" id="a359535c9c31b60afd189bbb631472abd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Logic::CEntityFactory::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Segunda fase de la destrucción del objeto. </p>
<p>Sirve para hacer liberar los recursos de la propia instancia, la liberación de los recursos estáticos se hace en <a class="el" href="class_logic_1_1_c_entity_factory.html#ab057628af999a3a0efef822573451b74" title="Libera la base de datos. ">Release()</a>. </p>

<p>Definición en la línea <a class="el" href="_entity_factory_8cpp_source.html#l00111">111</a> del archivo <a class="el" href="_entity_factory_8cpp_source.html">EntityFactory.cpp</a>.</p>

<p>Hace referencia a <a class="el" href="_entity_factory_8cpp_source.html#l00154">unloadBluePrints()</a>.</p>

<p>Referenciado por <a class="el" href="_entity_factory_8cpp_source.html#l00089">Release()</a>.</p>

</div>
</div>
<a class="anchor" id="a91c98e1474a187d6d2e25354dc881dad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_logic_1_1_c_entity.html">Logic::CEntity</a> * Logic::CEntityFactory::createEntity </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_map_1_1_c_entity.html">Map::CEntity</a> *&#160;</td>
          <td class="paramname"><em>entityInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_logic_1_1_c_map.html">Logic::CMap</a> *&#160;</td>
          <td class="paramname"><em>map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Crea una nueva entidad de juego en un mapa determinado a partir de su descripción en base a los componentes que necesita debido a su naturaleza según lo leído en el/los archivo/s blueprint. </p>
<p>El método se encarga de asignar un nuevo identificador único a la entidad y añadirlo en el mapa del parámetro.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">entityInfo</td><td>Descripción de la entidad; puede ser leída de un fichero de mapa o montada "al vuelo". </td></tr>
    <tr><td class="paramname">map</td><td>Mapa donde se crea la entidad. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>Entidad creada o NULL si no se pudo crear.</dd></dl>
<dl class="section note"><dt>Nota</dt><dd>Las entidades aquí creadas pueden eliminarse al final del juego o bien utilizando deferredDeleteEntity. </dd></dl>

<p>Definición en la línea <a class="el" href="_entity_factory_8cpp_source.html#l00200">200</a> del archivo <a class="el" href="_entity_factory_8cpp_source.html">EntityFactory.cpp</a>.</p>

<p>Hace referencia a <a class="el" href="_map_8cpp_source.html#l00158">Logic::CMap::addEntity()</a>, <a class="el" href="_entity_factory_8cpp_source.html#l00162">assembleEntity()</a>, <a class="el" href="_map_entity_8h_source.html#l00131">Map::CEntity::getType()</a>, <a class="el" href="_map_8cpp_source.html#l00170">Logic::CMap::removeEntity()</a> y <a class="el" href="_logic_2_entity_2_entity_8cpp_source.html#l00049">Logic::CEntity::spawn()</a>.</p>

<p>Referenciado por <a class="el" href="_building_manager_8cpp_source.html#l00118">Logic::CBuildingManager::createBuilding()</a>, <a class="el" href="_map_8cpp_source.html#l00030">Logic::CMap::createMapFromFile()</a>, <a class="el" href="_entity_factory_8cpp_source.html#l00225">createPrefab()</a> y <a class="el" href="_tile_manager_8cpp_source.html#l00095">Logic::CTileManager::loadInitialMatrix()</a>.</p>

</div>
</div>
<a class="anchor" id="ab73e8347902cfb9c8105e3ffa9fae68a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Logic::CEntityFactory::createPrefab </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_map_1_1_c_entity.html">Map::CEntity</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefabName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Crea un prefab con un nombre dado. </p>
<p>El prefab podrá usarse más adelante para crear instancias con una sobrecarga del método createEntity </p>

<p>Definición en la línea <a class="el" href="_entity_factory_8cpp_source.html#l00225">225</a> del archivo <a class="el" href="_entity_factory_8cpp_source.html">EntityFactory.cpp</a>.</p>

<p>Hace referencia a <a class="el" href="_entity_factory_8h_source.html#l00265">_prefabs</a>, <a class="el" href="_entity_factory_8cpp_source.html#l00200">createEntity()</a>, <a class="el" href="_map_entity_8cpp_source.html#l00044">Map::CEntity::getStringAttribute()</a>, <a class="el" href="_entity_factory_8h_source.html#l00196">numInstance</a> y <a class="el" href="_map_entity_8h_source.html#l00152">Map::CEntity::setName()</a>.</p>

<p>Referenciado por <a class="el" href="_map_8cpp_source.html#l00030">Logic::CMap::createMapFromFile()</a>.</p>

</div>
</div>
<a class="anchor" id="a9619ffb7838fbb91e0eff23db74cc032"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Logic::CEntityFactory::deferredDeleteEntity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_logic_1_1_c_entity.html">Logic::CEntity</a> *&#160;</td>
          <td class="paramname"><em>entity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Solicita la destrucción retrasada de la entidad que se pasa como parámetro. </p>
<p>Este método se utiliza cuando se está aún con el juego activo y el objeto no puede eliminarse en este momento bien porque se intenta autodestruir en medio de su propio tick() o porque acciones que aun estar por procesar en otras entidades puedan requerir de la presencia de esta entidad. </p>
<p>La factoría retrasa la destrucción del objeto hasta que el bucle de juego invoca a deleteDefferedObjects(). Será la propia factoría la que se preocupe en ese momento de: </p><ul>
<li>
Desactivar el objeto si pertenece a un mapa activo. </li>
<li>
Eliminarlo del mapa al que pertenece. </li>
<li>
Borrarlo definitivamente. </li>
</ul>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">entity</td><td>Entidad del juego que se quiere borrar. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Nota</dt><dd>Si se elimina la factoría (se llama al destructor) <em>antes</em> de la invocación a deleteDefferedObjects() esos objetos <em>no</em> son borrados por esta factoría como elementos diferidos, sino que se confía en que el mapa que aún contiene el objeto eliminará esa entidad. </dd></dl>

<p>Definición en la línea <a class="el" href="_entity_factory_8cpp_source.html#l00264">264</a> del archivo <a class="el" href="_entity_factory_8cpp_source.html">EntityFactory.cpp</a>.</p>

<p>Hace referencia a <a class="el" href="_entity_factory_8h_source.html#l00250">_pendingEntities</a>.</p>

<p>Referenciado por <a class="el" href="_building_manager_8cpp_source.html#l00118">Logic::CBuildingManager::createBuilding()</a>.</p>

</div>
</div>
<a class="anchor" id="abc1de7ec795ddcffb8ebb07dd67d1070"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Logic::CEntityFactory::deleteDefferedEntities </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Método invocado por el bucle del juego para que la factoría elimine todos los objetos pendientes de ser borrados. </p>

<p>Definición en la línea <a class="el" href="_entity_factory_8cpp_source.html#l00273">273</a> del archivo <a class="el" href="_entity_factory_8cpp_source.html">EntityFactory.cpp</a>.</p>

<p>Hace referencia a <a class="el" href="_entity_factory_8h_source.html#l00250">_pendingEntities</a> y <a class="el" href="_entity_factory_8cpp_source.html#l00252">deleteEntity()</a>.</p>

<p>Referenciado por <a class="el" href="_logic_2_server_8cpp_source.html#l00176">Logic::CServer::tick()</a>.</p>

</div>
</div>
<a class="anchor" id="a85ba80260e60a0afb73a9eaa7c7f9ec8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Logic::CEntityFactory::deleteEntity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_logic_1_1_c_entity.html">Logic::CEntity</a> *&#160;</td>
          <td class="paramname"><em>entity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destruye el <a class="el" href="class_logic_1_1_c_entity.html" title="Clase que representa una entidad en el entorno virtual. ">CEntity</a> pasado como parámetro. </p>
<p>La destrucción es inmediata, por lo que el <em>invocante debe garantizar</em> que ese objeto no está actualmente en uso (no se está destruyendo a si mismo) o no afecta a otras entidades en acciones que estén aun por realizar en el tick() actual de la lógica (si es que se está en medio de uno). De no ser así, el resultado será indeterminado.</p>
<dl class="section remark"><dt>Comentarios</dt><dd>Si no se está seguro es recomendable usar el método <a class="el" href="class_logic_1_1_c_entity_factory.html#a9619ffb7838fbb91e0eff23db74cc032" title="Solicita la destrucción retrasada de la entidad que se pasa como parámetro. ">deferredDeleteEntity()</a> que eliminará la entidad cuando se termine el tick() de todo el mapa.</dd></dl>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">entidad</td><td>Entidad de juego que se borrará. </td></tr>
  </table>
  </dd>
</dl>

<p>Definición en la línea <a class="el" href="_entity_factory_8cpp_source.html#l00252">252</a> del archivo <a class="el" href="_entity_factory_8cpp_source.html">EntityFactory.cpp</a>.</p>

<p>Hace referencia a <a class="el" href="_logic_2_entity_2_entity_8h_source.html#l00206">Logic::CEntity::getMap()</a> y <a class="el" href="_map_8cpp_source.html#l00170">Logic::CMap::removeEntity()</a>.</p>

<p>Referenciado por <a class="el" href="_entity_factory_8cpp_source.html#l00273">deleteDefferedEntities()</a> y <a class="el" href="_map_8cpp_source.html#l00184">Logic::CMap::destroyAllEntities()</a>.</p>

</div>
</div>
<a class="anchor" id="a5ffb69281f3ba1803276443bff22e964"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="class_logic_1_1_c_entity_factory.html">CEntityFactory</a>* Logic::CEntityFactory::getSingletonPtr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Devuelve un puntero al único objeto de la clase. </p>
<dl class="section return"><dt>Devuelve</dt><dd>Factoría de entidades. </dd></dl>

<p>Definición en la línea <a class="el" href="_entity_factory_8h_source.html#l00075">75</a> del archivo <a class="el" href="_entity_factory_8h_source.html">EntityFactory.h</a>.</p>

<p>Referenciado por <a class="el" href="_building_manager_8cpp_source.html#l00118">Logic::CBuildingManager::createBuilding()</a>, <a class="el" href="_map_8cpp_source.html#l00030">Logic::CMap::createMapFromFile()</a>, <a class="el" href="_map_8cpp_source.html#l00184">Logic::CMap::destroyAllEntities()</a>, <a class="el" href="_game_state_8cpp_source.html#l00034">Application::CGameState::init()</a>, <a class="el" href="_building_manager_8cpp_source.html#l00094">Logic::CBuildingManager::loadInitialBuildings()</a>, <a class="el" href="_tile_manager_8cpp_source.html#l00095">Logic::CTileManager::loadInitialMatrix()</a>, <a class="el" href="_game_state_8cpp_source.html#l00063">Application::CGameState::release()</a> y <a class="el" href="_logic_2_server_8cpp_source.html#l00176">Logic::CServer::tick()</a>.</p>

</div>
</div>
<a class="anchor" id="a02768a6dee7bb9189cc52c48d3894d60"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Logic::CEntityFactory::Init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inicializa la base de datos de la factoría. </p>
<dl class="section return"><dt>Devuelve</dt><dd>false si no se ha podido inicializar. </dd></dl>

<p>Definición en la línea <a class="el" href="_entity_factory_8cpp_source.html#l00071">71</a> del archivo <a class="el" href="_entity_factory_8cpp_source.html">EntityFactory.cpp</a>.</p>

<p>Hace referencia a <a class="el" href="_entity_factory_8h_source.html#l00201">_instance</a>, <a class="el" href="_entity_factory_8cpp_source.html#l00055">CEntityFactory()</a>, <a class="el" href="_entity_factory_8cpp_source.html#l00103">open()</a> y <a class="el" href="_entity_factory_8cpp_source.html#l00089">Release()</a>.</p>

<p>Referenciado por <a class="el" href="_logic_2_server_8cpp_source.html#l00081">Logic::CServer::open()</a>.</p>

</div>
</div>
<a class="anchor" id="aae05d74a57b2a3e3cb31d79dc5c6de82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Logic::CEntityFactory::loadBluePrints </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Carga un nuevo listado de entidades que se pueden crear mediante componentes. </p>
<p>El fichero que contiene la definición es muy simple. Cada línea corresponde a una entidad que viene definida por una serie de palabras separadas por espacios donde la primera palabra es el tipo de la entidad y el resto son los componentes que conforman dicha entidad. </p>
<p>Se puede cargar más de un fichero con definiciones de entidades. Si los tipo de entidad se encuentran repetidos siempre prevalece el último añadido.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>Fichero con la descripción de las entidades. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>true si la carga se hizo correctamente. </dd></dl>

<p>Definición en la línea <a class="el" href="_entity_factory_8cpp_source.html#l00121">121</a> del archivo <a class="el" href="_entity_factory_8cpp_source.html">EntityFactory.cpp</a>.</p>

<p>Hace referencia a <a class="el" href="_entity_factory_8h_source.html#l00260">_bluePrints</a>.</p>

</div>
</div>
<a class="anchor" id="ac5ced525401b3412dd29738b44c35f1a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Logic::CEntityFactory::open </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Segunda fase de la construcción del objeto. </p>
<p>Sirve para hacer inicializaciones de la propia instancia en vez de inicializaciones estáticas.</p>
<dl class="section return"><dt>Devuelve</dt><dd>true si todo fue correctamente. </dd></dl>

<p>Definición en la línea <a class="el" href="_entity_factory_8cpp_source.html#l00103">103</a> del archivo <a class="el" href="_entity_factory_8cpp_source.html">EntityFactory.cpp</a>.</p>

<p>Referenciado por <a class="el" href="_entity_factory_8cpp_source.html#l00071">Init()</a>.</p>

</div>
</div>
<a class="anchor" id="ab057628af999a3a0efef822573451b74"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Logic::CEntityFactory::Release </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Libera la base de datos. </p>
<p>Debe llamarse al finalizar la aplicación. </p>

<p>Definición en la línea <a class="el" href="_entity_factory_8cpp_source.html#l00089">89</a> del archivo <a class="el" href="_entity_factory_8cpp_source.html">EntityFactory.cpp</a>.</p>

<p>Hace referencia a <a class="el" href="_entity_factory_8h_source.html#l00201">_instance</a> y <a class="el" href="_entity_factory_8cpp_source.html#l00111">close()</a>.</p>

<p>Referenciado por <a class="el" href="_logic_2_server_8cpp_source.html#l00105">Logic::CServer::close()</a> y <a class="el" href="_entity_factory_8cpp_source.html#l00071">Init()</a>.</p>

</div>
</div>
<a class="anchor" id="a860f5ea85c7df83d8da6e932f96413e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Logic::CEntityFactory::unloadBluePrints </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Descarga el listado de entidades creadas. </p>

<p>Definición en la línea <a class="el" href="_entity_factory_8cpp_source.html#l00154">154</a> del archivo <a class="el" href="_entity_factory_8cpp_source.html">EntityFactory.cpp</a>.</p>

<p>Hace referencia a <a class="el" href="_entity_factory_8h_source.html#l00260">_bluePrints</a>.</p>

<p>Referenciado por <a class="el" href="_entity_factory_8cpp_source.html#l00111">close()</a> y <a class="el" href="_game_state_8cpp_source.html#l00063">Application::CGameState::release()</a>.</p>

</div>
</div>
<h2 class="groupheader">Documentación de los campos</h2>
<a class="anchor" id="a2881eda4fa25ea2662505562abc207f8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_logic_1_1_c_entity_factory.html#a5f4290394f00f63348661c40c7cbb74b">TBluePrintMap</a> Logic::CEntityFactory::_bluePrints</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tabla donde se almacenan las entidades blueprint por nombre. </p>

<p>Definición en la línea <a class="el" href="_entity_factory_8h_source.html#l00260">260</a> del archivo <a class="el" href="_entity_factory_8h_source.html">EntityFactory.h</a>.</p>

<p>Referenciado por <a class="el" href="_entity_factory_8cpp_source.html#l00162">assembleEntity()</a>, <a class="el" href="_entity_factory_8cpp_source.html#l00121">loadBluePrints()</a> y <a class="el" href="_entity_factory_8cpp_source.html#l00154">unloadBluePrints()</a>.</p>

</div>
</div>
<a class="anchor" id="a1c24f1bba46f5139e4caa30b85a24ac7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_logic_1_1_c_entity_factory.html">CEntityFactory</a> * Logic::CEntityFactory::_instance = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Única instancia de la clase. </p>

<p>Definición en la línea <a class="el" href="_entity_factory_8h_source.html#l00201">201</a> del archivo <a class="el" href="_entity_factory_8h_source.html">EntityFactory.h</a>.</p>

<p>Referenciado por <a class="el" href="_entity_factory_8cpp_source.html#l00055">CEntityFactory()</a>, <a class="el" href="_entity_factory_8cpp_source.html#l00071">Init()</a>, <a class="el" href="_entity_factory_8cpp_source.html#l00032">operator&gt;&gt;()</a>, <a class="el" href="_entity_factory_8cpp_source.html#l00089">Release()</a> y <a class="el" href="_entity_factory_8cpp_source.html#l00063">~CEntityFactory()</a>.</p>

</div>
</div>
<a class="anchor" id="afc1e314675a1950553bf49811b0742b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_logic_1_1_c_entity_factory.html#afe3bdee5508b7fdf617f79fdc168fd33">TEntityList</a> Logic::CEntityFactory::_pendingEntities</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lista de objetos pendientes de borrar. </p>

<p>Definición en la línea <a class="el" href="_entity_factory_8h_source.html#l00250">250</a> del archivo <a class="el" href="_entity_factory_8h_source.html">EntityFactory.h</a>.</p>

<p>Referenciado por <a class="el" href="_entity_factory_8cpp_source.html#l00264">deferredDeleteEntity()</a> y <a class="el" href="_entity_factory_8cpp_source.html#l00273">deleteDefferedEntities()</a>.</p>

</div>
</div>
<a class="anchor" id="a46cd43c565f104499345afe7f4314dfa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, <a class="el" href="class_map_1_1_c_entity.html">Map::CEntity</a>*&gt; Logic::CEntityFactory::_prefabs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mapa cacheado de prefabs indexado por tipo. </p>

<p>Definición en la línea <a class="el" href="_entity_factory_8h_source.html#l00265">265</a> del archivo <a class="el" href="_entity_factory_8h_source.html">EntityFactory.h</a>.</p>

<p>Referenciado por <a class="el" href="_entity_factory_8cpp_source.html#l00225">createPrefab()</a>.</p>

</div>
</div>
<a class="anchor" id="a92a4294f1d4ee8584df9ffc762ca83ce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Logic::CEntityFactory::numInstance = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Número que se añade al nombre de la instancia que viene en el prefab para que sea único. </p>

<p>Definición en la línea <a class="el" href="_entity_factory_8h_source.html#l00196">196</a> del archivo <a class="el" href="_entity_factory_8h_source.html">EntityFactory.h</a>.</p>

<p>Referenciado por <a class="el" href="_entity_factory_8cpp_source.html#l00225">createPrefab()</a>.</p>

</div>
</div>
<hr/>La documentación para esta clase fue generada a partir de los siguientes ficheros:<ul>
<li>Src/Logic/Maps/<a class="el" href="_entity_factory_8h_source.html">EntityFactory.h</a></li>
<li>Src/Logic/Maps/<a class="el" href="_entity_factory_8cpp_source.html">EntityFactory.cpp</a></li>
</ul>
</div><!-- contents -->
<hr size="1"/>
<address style="text-align: left;"><small>
David Llansó, Marco Antonio Gómez Martín.<p/>
(c) <a href="http://www.videojuegos-ucm.es/">Master en Desarrollo de Videojuegos</a>, <a href="http://www.ucm.es">UCM</a>.<p/>
Documentación generada con <a href="http://www.doxygen.org/index.html">Doxygen</a>
</small></address>
